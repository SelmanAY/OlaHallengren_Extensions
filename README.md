# OlaHallengren_Extensions
Two usability feature for Ola Hallengren's Sql Maintenance Scripts

## Main Problem

Think of an sql server maintained by Ola Hallengren's Maintenance Solution. You have grouped your databases (in addition to built-in USER_DATABASES and SYSTEM_DATABASES groups in many cases USER_DATABASES are grouped into smaller groups for example ARCHIVE_DATABASES, CONTENT_DATABASES, LOOKUP_DATABASES, etc).  You have many overlapping maintenance jobs at a time. 

Most of the time just knowing the entire job is completed successfully is not enough. You have to generate a report for that specific execution of job. For example for a backup job you may want to send a report containg which of the databases get backed up. if one failed, on which command did it failed. You can find that information through CommandLog table but here comes the problem for the environment with overlapping maintentance jobs running simultaneously. You can't find commmands executed for that specific job. so you can't generate an automatic report for your job. Every time one of your maintenance jobs failed you have to manually query CommandLog table. 

## The Idea

I have developed SSIS packages while my former dba experiences. There was a concept of Execution-Guids. Every container (as the root container the package itself) has an execution-guid generated by SSIS. For every execution of every task in a package this guids are logged. so if you need to query logs you can use these guids to reach the logs that are related. The same concept is used for this feature. 

## Features

1. Logging Execution Key

Unlike SSIS packages, Maintenance solution sp's have many different usage scenarios so generating guids for executions is not covered in this feature. Instead for every sp an input parameter is added and value of that parameter transparently saved to the CommandLog table. 

2. Additional information on Backup Commands

For a backup report usually FileName, Path and Size of backup file generated by the maintenance job are asked. These additional information is saved to ExtendedInfo column of CommandLog table.

## Versioning

For every release of Ola Hallengren there will be a new folder. 
For possible bug in my work commit history will be enough. 
